{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Main/Section_Register/Register.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Register","props","handleChange","e","setState","name","handleOptionChange","position_id","Number","handlePhotoChange","photo","files","validate","isError","state","email","phone","errors","nameError","emailError","phoneError","photoError","indexOf","slice","type","size","prevState","handleSubmit","preventDefault","onRegister","data","this","positions","fetchTokenError","fetchPositionsError","className","onSubmit","onChange","placeholder","map","position","id","checked","htmlFor","Component","defaultProps"],"mappings":"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","file":"static/js/Form.1b58a46a.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/* eslint-disable camelcase */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      position_id: 1,\n      name: '',\n      nameError: '',\n      email: '',\n      emailError: '',\n      phone: '',\n      phoneError: '',\n      photo: null,\n      photoError: '',\n    };\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleOptionChange = e => {\n    this.setState({ position_id: Number(e.target.value) });\n  };\n\n  handlePhotoChange = e => {\n    this.setState({ photo: e.target.files[0] });\n  };\n\n  validate = () => {\n    let isError = false;\n    const { name, email, phone, photo } = this.state;\n\n    const errors = {\n      nameError: '',\n      emailError: '',\n      phoneError: '',\n      photoError: '',\n    };\n\n    if (name.length < 6) {\n      isError = true;\n      errors.nameError = 'Username needs to be atleast 6 characters long';\n    }\n\n    if (email.indexOf('@') === -1) {\n      isError = true;\n      errors.emailError = 'Requires valid email';\n    }\n\n    if (phone.length !== 13) {\n      isError = true;\n      errors.phoneError = 'Number must consists of 13 digits';\n    }\n\n    if (phone.slice(0, 4) !== '+380') {\n      isError = true;\n      errors.phoneError = 'Number must start with +380';\n    }\n\n    if (photo === null) {\n      isError = true;\n      errors.photoError = 'Needs photo';\n    } else if (photo.type !== 'image/jpeg') {\n      isError = true;\n      errors.photoError = 'Photo needs to be in jpeg format';\n    } else if (photo.size > 5242880) {\n      isError = true;\n      errors.phoneError = 'Photo should be less than 5 mb';\n    }\n\n    this.setState(prevState => ({\n      ...prevState,\n      ...errors,\n    }));\n\n    return isError;\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { name, position_id, email, phone, photo } = this.state;\n    const { onRegister } = this.props;\n    const data = {\n      name,\n      position_id,\n      email,\n      phone,\n      photo,\n    };\n\n    const err = this.validate();\n\n    if (!err) {\n      onRegister(data);\n\n      this.setState({\n        position_id: 1,\n        name: '',\n        nameError: '',\n        email: '',\n        emailError: '',\n        phone: '',\n        phoneError: '',\n        photo: null,\n        photoError: '',\n      });\n    }\n  };\n\n  render() {\n    const {\n      name,\n      position_id,\n      email,\n      phone,\n      photo,\n      nameError,\n      emailError,\n      phoneError,\n      photoError,\n    } = this.state;\n    const { positions, fetchTokenError, fetchPositionsError } = this.props;\n    return (\n      <section className=\"Register-section\">\n        <div className=\"Register-section__header\">\n          <h1>Register to get a work</h1>\n          <p>\n            Attention! After successful registration and alert, update the list\n            of users in the block from the top\n          </p>\n        </div>\n        <form onSubmit={this.handleSubmit} className=\"Register-section__form\">\n          <div className=\"Register-section__form-main\">\n            <div className=\"Register-section__form-main-element\">\n              <label className=\"Register-section__form-main-label\">Name</label>\n\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={name}\n                onChange={this.handleChange}\n                className=\"Register-section__form-main-input\"\n                placeholder=\"Your name\"\n              />\n              <div className=\"Register-section__after-input\">\n                Enter your name\n              </div>\n              {nameError && <div className=\"error-message\">{nameError}</div>}\n            </div>\n            <div className=\"Register-section__form-main-element\">\n              <label className=\"Register-section__form-main-label\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={this.handleChange}\n                className=\"Register-section__form-main-input\"\n                placeholder=\"Your email\"\n              />\n              <div className=\"Register-section__after-input\">\n                Enter your email\n              </div>\n              {emailError && <div className=\"error-message\">{emailError}</div>}\n            </div>\n            <div className=\"Register-section__form-main-element\">\n              <label className=\"Register-section__form-main-label\">\n                Phone number\n              </label>\n              <input\n                type=\"text\"\n                name=\"phone\"\n                value={phone}\n                onChange={this.handleChange}\n                className=\"Register-section__form-main-input\"\n                placeholder=\"+380\"\n              />\n              <div className=\"Register-section__after-input\">\n                Enter your phone number in open format\n              </div>\n              {phoneError && <div className=\"error-message\">{phoneError}</div>}\n            </div>\n          </div>\n          <div className=\"Register-section__select\">\n            <label className=\"Register-section__select-header\">\n              Select your position\n            </label>\n            <div>\n              {fetchPositionsError && (\n                <div>{fetchPositionsError} + Positions were not found</div>\n              )}\n              {positions.map(position => (\n                <div\n                  className=\"Register-section__select-position\"\n                  key={position.id}\n                >\n                  <label>\n                    <input\n                      type=\"radio\"\n                      name={position.id}\n                      value={position.id}\n                      checked={position.id === position_id}\n                      onChange={this.handleOptionChange}\n                    />\n                    <span>{position.name}</span>\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n          <div className=\"Register-section__photo-container\">\n            <label className=\"Register-section__photo-label\">Photo</label>\n            <div className=\"Register-section__photo-input\">\n              <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\n                {photo ? photo.name : <span>Upload your photo</span>}\n              </label>\n\n              <label htmlFor=\"file-upload\" className=\"custom-file-browse\">\n                Browse\n              </label>\n\n              <input\n                type=\"file\"\n                name=\"photo\"\n                id=\"file-upload\"\n                onChange={this.handlePhotoChange}\n                className=\"Register-section__photo-input\"\n              />\n            </div>\n            {photoError && <div className=\"error-message\">{photoError}</div>}\n          </div>\n          <button type=\"submit\" className=\"button\">\n            Sing up now\n          </button>\n          {fetchTokenError && <div>{fetchTokenError} + TokenError</div>}\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.defaultProps = {\n  fetchTokenError: '',\n  fetchPositionsError: '',\n};\n\nRegister.propTypes = {\n  onRegister: PropTypes.func.isRequired,\n  positions: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  fetchTokenError: PropTypes.string,\n  fetchPositionsError: PropTypes.string,\n};\n"],"sourceRoot":""}