(this.webpackJsonptestabz=this.webpackJsonptestabz||[]).push([[3],{75:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t),a.d(t,"default",(function(){return u}));var i=a(13),s=a(14),l=a(18),m=a(17),c=a(0),p=a.n(c),u=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(r({},e.target.name,e.target.value))},n.handleOptionChange=function(e){n.setState({position_id:Number(e.target.value)})},n.handlePhotoChange=function(e){n.setState({photo:e.target.files[0]})},n.validate=function(){var e=!1,t=n.state,a=t.name,r=t.email,i=t.phone,s=t.photo,l={nameError:"",emailError:"",phoneError:"",photoError:""};return a.length<6&&(e=!0,l.nameError="Username needs to be atleast 6 characters long"),-1===r.indexOf("@")&&(e=!0,l.emailError="Requires valid email"),13!==i.length&&(e=!0,l.phoneError="Number must consists of 13 digits"),"+380"!==i.slice(0,4)&&(e=!0,l.phoneError="Number must start with +380"),null===s?(e=!0,l.photoError="Needs photo"):"image/jpeg"!==s.type?(e=!0,l.photoError="Photo needs to be in jpeg format"):s.size>5242880&&(e=!0,l.phoneError="Photo should be less than 5 mb"),n.setState((function(e){return o(o({},e),l)})),e},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.position_id,o=t.email,i=t.phone,s=t.photo,l=n.props.onRegister,m={name:a,position_id:r,email:o,phone:i,photo:s};n.validate()||(l(m),n.setState({position_id:1,name:"",nameError:"",email:"",emailError:"",phone:"",phoneError:"",photo:null,photoError:""}))},n.state={position_id:1,name:"",nameError:"",email:"",emailError:"",phone:"",phoneError:"",photo:null,photoError:""},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,r=t.position_id,n=t.email,o=t.phone,i=t.photo,s=t.nameError,l=t.emailError,m=t.phoneError,c=t.photoError,u=this.props,h=u.positions,E=u.fetchTokenError,d=u.fetchPositionsError;return p.a.createElement("section",{className:"Register-section"},p.a.createElement("div",{className:"Register-section__header"},p.a.createElement("h1",null,"Register to get a work"),p.a.createElement("p",null,"Attention! After successful registration and alert, update the list of users in the block from the top")),p.a.createElement("form",{onSubmit:this.handleSubmit,className:"Register-section__form"},p.a.createElement("div",{className:"Register-section__form-main"},p.a.createElement("div",{className:"Register-section__form-main-element"},p.a.createElement("label",{className:"Register-section__form-main-label"},"Name"),p.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange,className:"Register-section__form-main-input",placeholder:"Your name"}),p.a.createElement("div",{className:"Register-section__after-input"},"Enter your name"),s&&p.a.createElement("div",{className:"error-message"},s)),p.a.createElement("div",{className:"Register-section__form-main-element"},p.a.createElement("label",{className:"Register-section__form-main-label"},"Email"),p.a.createElement("input",{type:"email",name:"email",value:n,onChange:this.handleChange,className:"Register-section__form-main-input",placeholder:"Your email"}),p.a.createElement("div",{className:"Register-section__after-input"},"Enter your email"),l&&p.a.createElement("div",{className:"error-message"},l)),p.a.createElement("div",{className:"Register-section__form-main-element"},p.a.createElement("label",{className:"Register-section__form-main-label"},"Phone number"),p.a.createElement("input",{type:"text",name:"phone",value:o,onChange:this.handleChange,className:"Register-section__form-main-input",placeholder:"+380"}),p.a.createElement("div",{className:"Register-section__after-input"},"Enter your phone number in open format"),m&&p.a.createElement("div",{className:"error-message"},m))),p.a.createElement("div",{className:"Register-section__select"},p.a.createElement("label",{className:"Register-section__select-header"},"Select your position"),p.a.createElement("div",null,d&&p.a.createElement("div",null,d," + Positions were not found"),h.map((function(t){return p.a.createElement("div",{className:"Register-section__select-position",key:t.id},p.a.createElement("label",null,p.a.createElement("input",{type:"radio",name:t.id,value:t.id,checked:t.id===r,onChange:e.handleOptionChange}),p.a.createElement("span",null,t.name)))})))),p.a.createElement("div",{className:"Register-section__photo-container"},p.a.createElement("label",{className:"Register-section__photo-label"},"Photo"),p.a.createElement("div",{className:"Register-section__photo-input"},p.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-upload"},i?i.name:p.a.createElement("span",null,"Upload your photo")),p.a.createElement("label",{htmlFor:"file-upload",className:"custom-file-browse"},"Browse"),p.a.createElement("input",{type:"file",name:"photo",id:"file-upload",onChange:this.handlePhotoChange,className:"Register-section__photo-input"})),c&&p.a.createElement("div",{className:"error-message"},c)),p.a.createElement("button",{type:"submit",className:"button"},"Sing up now"),E&&p.a.createElement("div",null,E," + TokenError")))}}]),a}(c.Component);u.defaultProps={fetchTokenError:"",fetchPositionsError:""}}}]);
//# sourceMappingURL=Form.1b58a46a.chunk.js.map